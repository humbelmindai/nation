# 420 Nation Platform - Environment Configuration Template
# Copy this file to .env.local and fill in your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MariaDB/MySQL Database URL
# Format: mysql://username:password@host:port/database_name
DATABASE_URL="mysql://nation_user:your_secure_password@localhost:3306/nation_db"

# Redis Cache URL (for sessions and caching)
REDIS_URL="redis://localhost:6379"

# Database Connection Pool Settings
DB_POOL_MIN=5
DB_POOL_MAX=20

# =============================================================================
# APPLICATION SECURITY
# =============================================================================

# JWT Secret Key (generate a secure random string of at least 32 characters)
JWT_SECRET="your-super-secure-jwt-secret-key-minimum-32-characters"

# Encryption key for sensitive data (32 characters exactly)
ENCRYPTION_KEY="your-32-character-encryption-key!!"

# Session configuration
JWT_EXPIRE="15m"
REFRESH_TOKEN_EXPIRE="30d"
SESSION_COOKIE_NAME="420nation_session"

# Password hashing rounds (10-12 recommended)
BCRYPT_ROUNDS=12

# =============================================================================
# THIRD-PARTY API KEYS
# =============================================================================

# Google Maps API (required for store location features)
GOOGLE_MAPS_API_KEY="your-google-maps-api-key-here"

# Stripe Payment Processing (get from Stripe Dashboard)
STRIPE_PUBLISHABLE_KEY="pk_test_your-stripe-publishable-key"
STRIPE_SECRET_KEY="sk_test_your-stripe-secret-key"
STRIPE_WEBHOOK_SECRET="whsec_your-stripe-webhook-secret"

# Cannabis Compliance - Metrc Integration (optional for Phase 1)
METRC_API_KEY="your-metrc-api-key"
METRC_USER_KEY="your-metrc-user-key"
METRC_VENDOR_KEY="your-metrc-vendor-key"
METRC_BASE_URL="https://api-ca.metrc.com"

# =============================================================================
# COMMUNICATION SERVICES
# =============================================================================

# SendGrid Email Service
SENDGRID_API_KEY="SG.your-sendgrid-api-key"
SENDGRID_FROM_EMAIL="noreply@420nation.com"
SENDGRID_FROM_NAME="420 Nation"

# Twilio SMS Service
TWILIO_ACCOUNT_SID="AC_your_twilio_account_sid"
TWILIO_AUTH_TOKEN="your_twilio_auth_token"
TWILIO_PHONE_NUMBER="+1234567890"

# =============================================================================
# FILE STORAGE & CDN
# =============================================================================

# AWS S3 for file uploads (product images, documents, etc.)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_S3_BUCKET="420nation-uploads"
AWS_REGION="us-west-2"
AWS_CLOUDFRONT_DOMAIN="cdn.420nation.com"

# Maximum file upload size (in MB)
MAX_FILE_SIZE=10

# =============================================================================
# ANALYTICS & MONITORING
# =============================================================================

# Google Analytics 4
GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"

# Sentry Error Tracking
SENTRY_DSN="https://your-sentry-dsn-here@sentry.io/project-id"

# Mixpanel Analytics
MIXPANEL_TOKEN="your-mixpanel-token"

# Application Monitoring
NEW_RELIC_LICENSE_KEY="your-new-relic-license-key"

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Core Features
ENABLE_USER_REGISTRATION=true
ENABLE_AGE_VERIFICATION=true
ENABLE_EMAIL_VERIFICATION=true

# E-commerce Features (Phase 3)
ENABLE_ECOMMERCE=false
ENABLE_SHOPPING_CART=false
ENABLE_PAYMENTS=false

# Professional Network Features (Phase 2)
ENABLE_PROFESSIONAL_NETWORK=false
ENABLE_CONSULTATIONS=false

# Advanced Features
ENABLE_LIVE_CHAT=false
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_LIVE_EVENTS=false

# Development Features
ENABLE_API_DOCS=true
ENABLE_DEBUG_MODE=true

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application URLs
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_API_URL="http://localhost:3001"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Age Verification Settings
MINIMUM_AGE=21
AGE_VERIFICATION_METHODS="id_scan,manual_review"

# Store Search Settings
DEFAULT_SEARCH_RADIUS=25
MAX_SEARCH_RADIUS=100

# Content Settings
MAX_REVIEW_LENGTH=1000
MAX_STORE_DESCRIPTION_LENGTH=2000

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Node Environment
NODE_ENV="development"

# Logging Level (error, warn, info, debug)
LOG_LEVEL="info"

# Enable/Disable Features for Development
SKIP_EMAIL_VERIFICATION=false
SKIP_AGE_VERIFICATION=false
MOCK_PAYMENT_PROCESSING=true

# Test Database (for running tests)
TEST_DATABASE_URL="mysql://nation_user:password@localhost:3306/nation_test_db"

# =============================================================================
# CORS SETTINGS
# =============================================================================

# Allowed Origins for CORS
CORS_ORIGINS="http://localhost:3000,https://420nation.com,https://www.420nation.com"

# =============================================================================
# SSL/TLS SETTINGS (Production)
# =============================================================================

# SSL Certificate Paths (Production only)
SSL_KEY_PATH="/path/to/private-key.pem"
SSL_CERT_PATH="/path/to/certificate.pem"
SSL_CA_PATH="/path/to/ca-certificate.pem"

# Force HTTPS in production
FORCE_HTTPS=true

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================

# Backup Settings
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_S3_BUCKET="420nation-backups"

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="420 Nation is currently undergoing maintenance. We'll be back shortly!"

# =============================================================================
# COMPLIANCE & LEGAL
# =============================================================================

# Privacy Settings
GDPR_ENABLED=true
CCPA_ENABLED=true
DATA_RETENTION_DAYS=2555  # 7 years for compliance

# Cannabis Regulations
REQUIRE_MEDICAL_DISCLAIMER=true
REQUIRE_AGE_GATE=true
ENABLE_LOCATION_RESTRICTIONS=true

# Restricted States/Regions (comma-separated state codes)
RESTRICTED_STATES="ID,SD,WY"

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Caching
REDIS_TTL_DEFAULT=3600
REDIS_TTL_SEARCH_RESULTS=900
REDIS_TTL_USER_SESSION=1800

# Database Query Timeout (milliseconds)
DB_QUERY_TIMEOUT=30000

# Image Processing
IMAGE_OPTIMIZATION=true
IMAGE_QUALITY=85
IMAGE_FORMATS="webp,jpg,png"

# =============================================================================
# NOTIFICATION SETTINGS
# =============================================================================

# Email Notifications
ENABLE_EMAIL_NOTIFICATIONS=true
EMAIL_QUEUE_ENABLED=true

# SMS Notifications
ENABLE_SMS_NOTIFICATIONS=true
SMS_QUEUE_ENABLED=true

# Push Notifications
ENABLE_PUSH_NOTIFICATIONS=false
FCM_SERVER_KEY="your-firebase-server-key"

# =============================================================================
# SOCIAL MEDIA INTEGRATION
# =============================================================================

# Social Login (optional)
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

FACEBOOK_APP_ID="your-facebook-app-id"
FACEBOOK_APP_SECRET="your-facebook-app-secret"

# Social Media Links
SOCIAL_INSTAGRAM="420nation"
SOCIAL_TWITTER="420nation"
SOCIAL_FACEBOOK="420nation"

# =============================================================================
# WEBHOOKS
# =============================================================================

# Webhook URLs for external integrations
STRIPE_WEBHOOK_URL="/api/webhooks/stripe"
METRC_WEBHOOK_URL="/api/webhooks/metrc"

# Webhook Secrets
WEBHOOK_SECRET="your-webhook-secret-key"